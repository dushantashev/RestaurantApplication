<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Restaurant Chefs - Welcome to Our Restaurant</title>
    <style type="text/css">
        body {
            width: 800px;
            margin: auto;
            font-family: Arial, sans-serif;
        }
        h1 {
            color: #333;
            margin: 20px;
        }
        #submitt{
            margin: 30px 20px 20px 20px;
        }
        h2{
            margin: 20px;
        }

    </style>
</head>
<body>
<th:block sec:authorize="hasRole('ADMIN')">
    <a th:href="@{'/chefs/add'}" methods="get">
        ADD
    </a>
</th:block>
<header>
    <h1 >Welcome to Our Restaurant</h1>
</header>
<main>
    <form action="/listChefs" method="get" class="d-flex m-3">
        <input type="text" name="search" class="form-control me-2" placeholder="Search chef by name"
               th:value="${param.search}">
        <button type="submit" class="btn btn-outline-primary">Search</button>
    </form>
    <h2 class="h2">Choose a chef:</h2>

    <form action="/dish" method="post">

        <div th:each="chef: ${chefs}" class="custom-control custom-radio">
            <label>
                <input type="radio" name="chefId" th:value="${chef.id}" class="custom-control-input">
                (Name) <span th:text="${chef.firstName}"></span>
                <span th:text="${chef.lastName}"></span>,
                (Bio) <span th:text="${chef.bio}"></span>
                <th:block sec:authorize="hasRole('ADMIN')">
                <a th:href="@{'/chefs/form/'+${chef.id}}" methods="post">
                   Edit
                </a>
                </th:block>
                <th:block sec:authorize="hasRole('ADMIN')">
                <a th:href="@{'/chefs/delete/'+${chef.id}}" methods="post">
                    Delete
                </a>
                </th:block>
            </label>
        </div>
        <input id="submit" type="submit" value="Submit" class="btn btn-primary">
    </form>




    <hr/>
    <h2 class="h2 mt-4">Recent Reviews</h2>

    <div th:if="${#lists.isEmpty(recentChefs)}">
        <p>No recent reviews yet.</p>
    </div>
    <ul th:if="${!#lists.isEmpty(recentChefs)}" class="list-group mb-4">
        <li th:each="chef : ${recentChefs}" class="list-group-item">
            <strong th:text="${chef.firstName + ' ' + chef.lastName}"></strong><br>
            <small th:text="'Bio: ' + ${chef.bio}"></small>

        </li>
    </ul>


</main>
</body>
</html>
